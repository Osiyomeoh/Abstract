{"ast":null,"code":"/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nimport { uint8ArrayConcat } from 'web3-utils';\nimport { WORD_SIZE } from '../utils.js';\nimport { encodeNumber } from './number.js';\nexport function encodeDynamicParams(encodedParams) {\n  let staticSize = 0;\n  let dynamicSize = 0;\n  const staticParams = [];\n  const dynamicParams = [];\n  // figure out static size\n  for (const encodedParam of encodedParams) {\n    if (encodedParam.dynamic) {\n      staticSize += WORD_SIZE;\n    } else {\n      staticSize += encodedParam.encoded.length;\n    }\n  }\n  for (const encodedParam of encodedParams) {\n    if (encodedParam.dynamic) {\n      staticParams.push(encodeNumber({\n        type: 'uint256',\n        name: ''\n      }, staticSize + dynamicSize));\n      dynamicParams.push(encodedParam);\n      dynamicSize += encodedParam.encoded.length;\n    } else {\n      staticParams.push(encodedParam);\n    }\n  }\n  return uint8ArrayConcat(...staticParams.map(p => p.encoded), ...dynamicParams.map(p => p.encoded));\n}","map":{"version":3,"names":["uint8ArrayConcat","WORD_SIZE","encodeNumber","encodeDynamicParams","encodedParams","staticSize","dynamicSize","staticParams","dynamicParams","encodedParam","dynamic","encoded","length","push","type","name","map","p"],"sources":["C:\\Users\\USER\\Documents\\Dapp\\Abstract\\frontend\\node_modules\\web3-eth-abi\\src\\coders\\base\\utils.ts"],"sourcesContent":["/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nimport { uint8ArrayConcat } from 'web3-utils';\nimport { EncoderResult } from '../types.js';\nimport { WORD_SIZE } from '../utils.js';\nimport { encodeNumber } from './number.js';\n\nexport function encodeDynamicParams(encodedParams: ReadonlyArray<EncoderResult>): Uint8Array {\n\tlet staticSize = 0;\n\tlet dynamicSize = 0;\n\tconst staticParams: EncoderResult[] = [];\n\tconst dynamicParams: EncoderResult[] = [];\n\t// figure out static size\n\tfor (const encodedParam of encodedParams) {\n\t\tif (encodedParam.dynamic) {\n\t\t\tstaticSize += WORD_SIZE;\n\t\t} else {\n\t\t\tstaticSize += encodedParam.encoded.length;\n\t\t}\n\t}\n\n\tfor (const encodedParam of encodedParams) {\n\t\tif (encodedParam.dynamic) {\n\t\t\tstaticParams.push(\n\t\t\t\tencodeNumber({ type: 'uint256', name: '' }, staticSize + dynamicSize),\n\t\t\t);\n\t\t\tdynamicParams.push(encodedParam);\n\t\t\tdynamicSize += encodedParam.encoded.length;\n\t\t} else {\n\t\t\tstaticParams.push(encodedParam);\n\t\t}\n\t}\n\treturn uint8ArrayConcat(\n\t\t...staticParams.map(p => p.encoded),\n\t\t...dynamicParams.map(p => p.encoded),\n\t);\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;AAgBA,SAASA,gBAAgB,QAAQ,YAAY;AAE7C,SAASC,SAAS,QAAQ,aAAa;AACvC,SAASC,YAAY,QAAQ,aAAa;AAE1C,OAAM,SAAUC,mBAAmBA,CAACC,aAA2C;EAC9E,IAAIC,UAAU,GAAG,CAAC;EAClB,IAAIC,WAAW,GAAG,CAAC;EACnB,MAAMC,YAAY,GAAoB,EAAE;EACxC,MAAMC,aAAa,GAAoB,EAAE;EACzC;EACA,KAAK,MAAMC,YAAY,IAAIL,aAAa,EAAE;IACzC,IAAIK,YAAY,CAACC,OAAO,EAAE;MACzBL,UAAU,IAAIJ,SAAS;KACvB,MAAM;MACNI,UAAU,IAAII,YAAY,CAACE,OAAO,CAACC,MAAM;;;EAI3C,KAAK,MAAMH,YAAY,IAAIL,aAAa,EAAE;IACzC,IAAIK,YAAY,CAACC,OAAO,EAAE;MACzBH,YAAY,CAACM,IAAI,CAChBX,YAAY,CAAC;QAAEY,IAAI,EAAE,SAAS;QAAEC,IAAI,EAAE;MAAE,CAAE,EAAEV,UAAU,GAAGC,WAAW,CAAC,CACrE;MACDE,aAAa,CAACK,IAAI,CAACJ,YAAY,CAAC;MAChCH,WAAW,IAAIG,YAAY,CAACE,OAAO,CAACC,MAAM;KAC1C,MAAM;MACNL,YAAY,CAACM,IAAI,CAACJ,YAAY,CAAC;;;EAGjC,OAAOT,gBAAgB,CACtB,GAAGO,YAAY,CAACS,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACN,OAAO,CAAC,EACnC,GAAGH,aAAa,CAACQ,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACN,OAAO,CAAC,CACpC;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}