{"ast":null,"code":"/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nimport { BaseWeb3Error } from '../web3_error_base.js';\nimport { ERR_INVALID_RESPONSE, ERR_RESPONSE } from '../error_codes.js';\n// To avoid circular package dependency, copied to code here. If you update this please update same function in `json_rpc.ts`\nconst isResponseWithError = response => !Array.isArray(response) && response.jsonrpc === '2.0' && !!response && (\n// eslint-disable-next-line no-null/no-null\nresponse.result === undefined || response.result === null) &&\n// JSON RPC consider \"null\" as valid response\n'error' in response && (typeof response.id === 'number' || typeof response.id === 'string');\nconst buildErrorMessage = response => isResponseWithError(response) ? response.error.message : '';\nexport class ResponseError extends BaseWeb3Error {\n  constructor(response, message, request) {\n    var _a;\n    super(message !== null && message !== void 0 ? message : `Returned error: ${Array.isArray(response) ? response.map(r => buildErrorMessage(r)).join(',') : buildErrorMessage(response)}`);\n    this.code = ERR_RESPONSE;\n    if (!message) {\n      this.data = Array.isArray(response) ? response.map(r => {\n        var _a;\n        return (_a = r.error) === null || _a === void 0 ? void 0 : _a.data;\n      }) : (_a = response === null || response === void 0 ? void 0 : response.error) === null || _a === void 0 ? void 0 : _a.data;\n    }\n    this.request = request;\n    let errorOrErrors;\n    if (`error` in response) {\n      errorOrErrors = response.error;\n    } else if (response instanceof Array) {\n      errorOrErrors = response.map(r => r.error);\n    }\n    this.innerError = errorOrErrors;\n  }\n  toJSON() {\n    return Object.assign(Object.assign({}, super.toJSON()), {\n      data: this.data,\n      request: this.request\n    });\n  }\n}\nexport class InvalidResponseError extends ResponseError {\n  constructor(result, request) {\n    super(result, undefined, request);\n    this.code = ERR_INVALID_RESPONSE;\n    let errorOrErrors;\n    if (`error` in result) {\n      errorOrErrors = result.error;\n    } else if (result instanceof Array) {\n      errorOrErrors = result.map(r => r.error);\n    }\n    this.innerError = errorOrErrors;\n  }\n}","map":{"version":3,"names":["BaseWeb3Error","ERR_INVALID_RESPONSE","ERR_RESPONSE","isResponseWithError","response","Array","isArray","jsonrpc","result","undefined","id","buildErrorMessage","error","message","ResponseError","constructor","request","map","r","join","code","data","_a","errorOrErrors","innerError","toJSON","Object","assign","InvalidResponseError"],"sources":["C:\\Users\\USER\\Documents\\Dapp\\Abstract\\frontend\\node_modules\\web3-errors\\src\\errors\\response_errors.ts"],"sourcesContent":["/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n\n// eslint-disable-next-line max-classes-per-file\nimport {\n\tJsonRpcError,\n\tJsonRpcPayload,\n\tJsonRpcResponse,\n\tJsonRpcResponseWithError,\n} from 'web3-types';\nimport { BaseWeb3Error } from '../web3_error_base.js';\nimport { ERR_INVALID_RESPONSE, ERR_RESPONSE } from '../error_codes.js';\n\n// To avoid circular package dependency, copied to code here. If you update this please update same function in `json_rpc.ts`\nconst isResponseWithError = <Error = unknown, Result = unknown>(\n\tresponse: JsonRpcResponse<Result, Error>,\n): response is JsonRpcResponseWithError<Error> =>\n\t!Array.isArray(response) &&\n\tresponse.jsonrpc === '2.0' &&\n\t!!response &&\n\t// eslint-disable-next-line no-null/no-null\n\t(response.result === undefined || response.result === null) &&\n\t// JSON RPC consider \"null\" as valid response\n\t'error' in response &&\n\t(typeof response.id === 'number' || typeof response.id === 'string');\n\nconst buildErrorMessage = (response: JsonRpcResponse<unknown, unknown>): string =>\n\tisResponseWithError(response) ? response.error.message : '';\n\nexport class ResponseError<ErrorType = unknown, RequestType = unknown> extends BaseWeb3Error {\n\tpublic code = ERR_RESPONSE;\n\tpublic data?: ErrorType | ErrorType[];\n\tpublic request?: JsonRpcPayload<RequestType>;\n\n\tpublic constructor(\n\t\tresponse: JsonRpcResponse<unknown, ErrorType>,\n\t\tmessage?: string,\n\t\trequest?: JsonRpcPayload<RequestType>,\n\t) {\n\t\tsuper(\n\t\t\tmessage ??\n\t\t\t\t`Returned error: ${\n\t\t\t\t\tArray.isArray(response)\n\t\t\t\t\t\t? response.map(r => buildErrorMessage(r)).join(',')\n\t\t\t\t\t\t: buildErrorMessage(response)\n\t\t\t\t}`,\n\t\t);\n\n\t\tif (!message) {\n\t\t\tthis.data = Array.isArray(response)\n\t\t\t\t? response.map(r => r.error?.data as ErrorType)\n\t\t\t\t: response?.error?.data;\n\t\t}\n\n\t\tthis.request = request;\n\t\tlet errorOrErrors: JsonRpcError | JsonRpcError[] | undefined;\n\t\tif (`error` in response) {\n\t\t\terrorOrErrors = response.error as JsonRpcError;\n\t\t} else if (response instanceof Array) {\n\t\t\terrorOrErrors = response.map(r => r.error) as JsonRpcError[];\n\t\t}\n\n\t\tthis.innerError = errorOrErrors as Error | Error[] | undefined;\n\t}\n\n\tpublic toJSON() {\n\t\treturn { ...super.toJSON(), data: this.data, request: this.request };\n\t}\n}\n\nexport class InvalidResponseError<ErrorType = unknown, RequestType = unknown> extends ResponseError<\n\tErrorType,\n\tRequestType\n> {\n\tpublic constructor(\n\t\tresult: JsonRpcResponse<unknown, ErrorType>,\n\t\trequest?: JsonRpcPayload<RequestType>,\n\t) {\n\t\tsuper(result, undefined, request);\n\t\tthis.code = ERR_INVALID_RESPONSE;\n\t\tlet errorOrErrors: JsonRpcError | JsonRpcError[] | undefined;\n\t\tif (`error` in result) {\n\t\t\terrorOrErrors = result.error as JsonRpcError;\n\t\t} else if (result instanceof Array) {\n\t\t\terrorOrErrors = result.map(r => r.error) as JsonRpcError[];\n\t\t}\n\n\t\tthis.innerError = errorOrErrors as Error | Error[] | undefined;\n\t}\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;AAwBA,SAASA,aAAa,QAAQ,uBAAuB;AACrD,SAASC,oBAAoB,EAAEC,YAAY,QAAQ,mBAAmB;AAEtE;AACA,MAAMC,mBAAmB,GACxBC,QAAwC,IAExC,CAACC,KAAK,CAACC,OAAO,CAACF,QAAQ,CAAC,IACxBA,QAAQ,CAACG,OAAO,KAAK,KAAK,IAC1B,CAAC,CAACH,QAAQ;AACV;AACCA,QAAQ,CAACI,MAAM,KAAKC,SAAS,IAAIL,QAAQ,CAACI,MAAM,KAAK,IAAI,CAAC;AAC3D;AACA,OAAO,IAAIJ,QAAQ,KAClB,OAAOA,QAAQ,CAACM,EAAE,KAAK,QAAQ,IAAI,OAAON,QAAQ,CAACM,EAAE,KAAK,QAAQ,CAAC;AAErE,MAAMC,iBAAiB,GAAIP,QAA2C,IACrED,mBAAmB,CAACC,QAAQ,CAAC,GAAGA,QAAQ,CAACQ,KAAK,CAACC,OAAO,GAAG,EAAE;AAE5D,OAAM,MAAOC,aAA0D,SAAQd,aAAa;EAK3Fe,YACCX,QAA6C,EAC7CS,OAAgB,EAChBG,OAAqC;;IAErC,KAAK,CACJH,OAAO,aAAPA,OAAO,cAAPA,OAAO,GACN,mBACCR,KAAK,CAACC,OAAO,CAACF,QAAQ,CAAC,GACpBA,QAAQ,CAACa,GAAG,CAACC,CAAC,IAAIP,iBAAiB,CAACO,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,GACjDR,iBAAiB,CAACP,QAAQ,CAC9B,EAAE,CACH;IAhBK,KAAAgB,IAAI,GAAGlB,YAAY;IAkBzB,IAAI,CAACW,OAAO,EAAE;MACb,IAAI,CAACQ,IAAI,GAAGhB,KAAK,CAACC,OAAO,CAACF,QAAQ,CAAC,GAChCA,QAAQ,CAACa,GAAG,CAACC,CAAC,IAAG;QAAA,IAAAI,EAAA;QAAC,QAAAA,EAAA,GAAAJ,CAAC,CAACN,KAAK,cAAAU,EAAA,uBAAAA,EAAA,CAAED,IAAiB;MAAA,EAAC,GAC7C,CAAAC,EAAA,GAAAlB,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEQ,KAAK,cAAAU,EAAA,uBAAAA,EAAA,CAAED,IAAI;;IAGzB,IAAI,CAACL,OAAO,GAAGA,OAAO;IACtB,IAAIO,aAAwD;IAC5D,IAAI,OAAO,IAAInB,QAAQ,EAAE;MACxBmB,aAAa,GAAGnB,QAAQ,CAACQ,KAAqB;KAC9C,MAAM,IAAIR,QAAQ,YAAYC,KAAK,EAAE;MACrCkB,aAAa,GAAGnB,QAAQ,CAACa,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACN,KAAK,CAAmB;;IAG7D,IAAI,CAACY,UAAU,GAAGD,aAA4C;EAC/D;EAEOE,MAAMA,CAAA;IACZ,OAAAC,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAAY,KAAK,CAACF,MAAM,EAAE;MAAEJ,IAAI,EAAE,IAAI,CAACA,IAAI;MAAEL,OAAO,EAAE,IAAI,CAACA;IAAO;EACnE;;AAGD,OAAM,MAAOY,oBAAiE,SAAQd,aAGrF;EACAC,YACCP,MAA2C,EAC3CQ,OAAqC;IAErC,KAAK,CAACR,MAAM,EAAEC,SAAS,EAAEO,OAAO,CAAC;IACjC,IAAI,CAACI,IAAI,GAAGnB,oBAAoB;IAChC,IAAIsB,aAAwD;IAC5D,IAAI,OAAO,IAAIf,MAAM,EAAE;MACtBe,aAAa,GAAGf,MAAM,CAACI,KAAqB;KAC5C,MAAM,IAAIJ,MAAM,YAAYH,KAAK,EAAE;MACnCkB,aAAa,GAAGf,MAAM,CAACS,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACN,KAAK,CAAmB;;IAG3D,IAAI,CAACY,UAAU,GAAGD,aAA4C;EAC/D"},"metadata":{},"sourceType":"module","externalDependencies":[]}